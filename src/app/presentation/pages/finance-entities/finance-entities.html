<div class="page">
  <h1 class="title">Entidades Financieras Autorizadas</h1>
  <p class="subtitle">Explora las entidades disponibles para Cr√©dito MiVivienda</p>

  @if (isLoading()) {
    <div class="loading">
      <div class="spinner"></div>
      <p>Cargando entidades financieras...</p>
    </div>
  } @else {
    @for (group of groupedEntities(); track group.type) {
      <section class="group">
        <h2 class="group-title">{{ group.label }}</h2>
        <div class="cards-grid">
          @for (entity of group.entities; track entity.id) {
            <app-finance-entity-card-component
              [entity]="entity"
              [selectable]="false"
              (onViewDetails)="openEntityDetails($event)" />
          }
        </div>
      </section>
    }
  }
</div>
